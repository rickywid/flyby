.row.destination-details
	.col-md-12
		%h1.destination= @destination.name
		= link_to "Edit", edit_destination_path(@destination), class: "btn btn-xs btn-success v-align"
.row
	%h2 Accomodation Details		
	.col-md-12
		%h5 #{@accomodation.name}
		%h5 #{@accomodation.address}
		%h5= @destination.date
		%ol
		.row
			%h2  Places to Visit
			- @location_details.each do |location|
				.col-md-4
					.locations
						%li
							%h2= location.name
							%p= location.city
							%p= location.address
							%p= location.date
							%p= location.description

.row
	.col-md-12
		#map

:javascript
	var markers = #{@locations}
	var map;
	function initMap() {
		var bounds = new google.maps.LatLngBounds();
	  	map = new google.maps.Map(document.getElementById('map'), {
	    zoom: 10,
	    center: new google.maps.LatLng(markers[0].latitude, markers[0].longitude),
	  });

		var hotel_marker = new google.maps.Marker({
			position: {lat: #{@accomodation.latitude}, lng: #{@accomodation.longitude}},
			map: map,
			title: 'Hello World!',
			icon: "http://www.pacificonline.com/images/icons/office_building_64px.png"
		});

		for (var i = 0; i < markers.length; i++) {
			var data = markers[i];
			var myLatlng = new google.maps.LatLng(data.latitude, data.longitude);
			var marker = new google.maps.Marker({
				position: myLatlng,
				map: map,
				title: data.name
			});
			bounds.extend(marker.position);
		};
		map.fitBounds(bounds);	
	};	

%script{:async => "", :defer => "", :src => "https://maps.googleapis.com/maps/api/js?key=AIzaSyBdMDyASdvSs-EL3DUXLggdI9WKcZenQKg&callback=initMap"}
